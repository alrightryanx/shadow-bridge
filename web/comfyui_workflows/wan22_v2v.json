{
  "name": "Wan 2.2 Video-to-Video",
  "description": "Transform existing video with style transfer and enhancement using Wan 2.2",
  "version": "1.0",
  "input_type": "video",
  "nodes": {
    "1": {
      "class_type": "VHS_LoadVideo",
      "inputs": {
        "video": "{{INPUT_VIDEO}}",
        "force_rate": "{{FPS}}",
        "force_size": "Disabled",
        "frame_load_cap": "{{MAX_FRAMES}}"
      }
    },
    "2": {
      "class_type": "CheckpointLoaderSimple",
      "inputs": {
        "ckpt_name": "wan22/wan2.2_t2v_a14b.safetensors"
      }
    },
    "3": {
      "class_type": "CLIPTextEncode",
      "inputs": {
        "text": "{{PROMPT}}",
        "clip": ["2", 1]
      }
    },
    "4": {
      "class_type": "CLIPTextEncode",
      "inputs": {
        "text": "{{NEGATIVE_PROMPT}}",
        "clip": ["2", 1]
      }
    },
    "5": {
      "class_type": "VAEEncodeVideo",
      "inputs": {
        "pixels": ["1", 0],
        "vae": ["2", 2]
      }
    },
    "6": {
      "class_type": "KSamplerVideo",
      "inputs": {
        "model": ["2", 0],
        "positive": ["3", 0],
        "negative": ["4", 0],
        "latent_video": ["5", 0],
        "seed": "{{SEED}}",
        "steps": 20,
        "cfg": 5.0,
        "sampler_name": "euler_ancestral",
        "scheduler": "normal",
        "denoise": "{{DENOISE}}"
      }
    },
    "7": {
      "class_type": "VAEDecodeVideo",
      "inputs": {
        "samples": ["6", 0],
        "vae": ["2", 2]
      }
    },
    "8": {
      "class_type": "VHS_VideoCombine",
      "inputs": {
        "images": ["7", 0],
        "frame_rate": "{{FPS}}",
        "format": "video/mp4",
        "filename_prefix": "{{OUTPUT_PREFIX}}",
        "save_output": true,
        "audio": ["1", 1]
      }
    }
  },
  "defaults": {
    "NEGATIVE_PROMPT": "blurry, distorted, artifacts, flickering, low quality",
    "FPS": 24,
    "SEED": -1,
    "DENOISE": 0.6,
    "MAX_FRAMES": 120
  },
  "required_inputs": ["INPUT_VIDEO", "PROMPT"],
  "output_node": "8"
}
